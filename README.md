# üí∞üí∏ –ü—Ä–æ–µ–∫—Ç "–û–±–º–µ–Ω–Ω–∏–∫ –≤–∞–ª—é—Ç"
## –û–ø–∏—Å–∞–Ω–∏–µ
REST API –¥–ª—è –æ–ø–∏—Å–∞–Ω–∏—è –≤–∞–ª—é—Ç –∏ –æ–±–º–µ–Ω–Ω—ã—Ö –∫—É—Ä—Å–æ–≤. –ü–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–ø–∏—Å–∫–∏ –≤–∞–ª—é—Ç –∏ –æ–±–º–µ–Ω–Ω—ã—Ö –∫—É—Ä—Å–æ–≤, –∏ —Å–æ–≤–µ—Ä—à–∞—Ç—å —Ä–∞—Å—á—ë—Ç –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã—Ö —Å—É–º–º –∏–∑ –æ–¥–Ω–æ–π –≤–∞–ª—é—Ç—ã –≤ –¥—Ä—É–≥—É—é.

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ / –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
- Jakarta Servlet
- Apache Tomcat
- Apache Maven
- JDBC
- SQLite
- Postman
- Hikari Connection Pool
- Jackson

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ API

### –í–∞–ª—é—Ç—ã

GET `/currencies`

–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≤–∞–ª—é—Ç. –ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:

```json
[
    {
        "id": 0,
        "name": "US dollar",
        "code": "USD",
        "sign": "$"
    },   
    {
        "id": 1,
        "name": "Yen",
        "code": "JPY",
        "sign": "¬•"
    }
]
```

GET `/currency/JPY`

–ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –≤–∞–ª—é—Ç—ã. –ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:

```json
{
    "id": 1,
    "name": "Yen",
    "code": "JPY",
    "sign": "¬•"
}
```

POST `/currencies`

–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π –≤–∞–ª—é—Ç—ã –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö. –î–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –≤ —Ç–µ–ª–µ –∑–∞–ø—Ä–æ—Å–∞ –≤ –≤–∏–¥–µ –ø–æ–ª–µ–π —Ñ–æ—Ä–º—ã (`x-www-form-urlencoded`). –ü–æ–ª—è —Ñ–æ—Ä–º—ã - `name`, `code`, `sign`. –ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞ - JSON –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –≤—Å—Ç–∞–≤–ª–µ–Ω–Ω–æ–π –≤ –±–∞–∑—É –∑–∞–ø–∏—Å–∏, –≤–∫–ª—é—á–∞—è –µ—ë ID:

```json
{
    "id": 0,
    "name": "US Dollar",
    "code": "USD",
    "sign": "$"
}
```

### –û–±–º–µ–Ω–Ω—ã–µ –∫—É—Ä—Å—ã

GET `/exchangeRates`

–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≤—Å–µ—Ö –æ–±–º–µ–Ω–Ω—ã—Ö –∫—É—Ä—Å–æ–≤. –ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:

```json
[
    {
        "id": 0,
        "baseCurrency": {
            "id": 0,
            "name": "US dollar",
            "code": "USD",
            "sign": "$"
        },
        "targetCurrency": {
            "id": 3,
            "name": "Euro",
            "code": "EUR",
            "sign": "‚Ç¨"
        },
        "rate": 0.99
    }
]
```

GET `/exchangeRate/USDRUB`

–ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –æ–±–º–µ–Ω–Ω–æ–≥–æ –∫—É—Ä—Å–∞. –í–∞–ª—é—Ç–Ω–∞—è –ø–∞—Ä–∞ –∑–∞–¥–∞—ë—Ç—Å—è –∏–¥—É—â–∏–º–∏ –ø–æ–¥—Ä—è–¥ –∫–æ–¥–∞–º–∏ –≤–∞–ª—é—Ç –≤ –∞–¥—Ä–µ—Å–µ –∑–∞–ø—Ä–æ—Å–∞. –ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:

```json
[
    {
        "id": 0,
        "baseCurrency": {
            "id": 0,
            "name": "US dollar",
            "code": "USD",
            "sign": "$"
        },
        "targetCurrency": {
            "id": 2,
            "name": "Russian Ruble",
            "code": "RUB",
            "sign": "‚ÇΩ"
        },
        "rate": 80
    }
]
```

POST `/exchangeRates`

–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –æ–±–º–µ–Ω–Ω–æ–≥–æ –∫—É—Ä—Å–∞ –≤ –±–∞–∑—É. –î–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –≤ —Ç–µ–ª–µ –∑–∞–ø—Ä–æ—Å–∞ –≤ –≤–∏–¥–µ –ø–æ–ª–µ–π —Ñ–æ—Ä–º—ã (`x-www-form-urlencoded`). –ü–æ–ª—è —Ñ–æ—Ä–º—ã - `baseCurrencyCode`, `targetCurrencyCode`, `rate`. –ü—Ä–∏–º–µ—Ä –ø–æ–ª–µ–π —Ñ–æ—Ä–º—ã:

- `baseCurrencyCode` - USD
- `targetCurrencyCode` - EUR
- `rate` - 0.99

–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞ - JSON –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –≤—Å—Ç–∞–≤–ª–µ–Ω–Ω–æ–π –≤ –±–∞–∑—É –∑–∞–ø–∏—Å–∏, –≤–∫–ª—é—á–∞—è –µ—ë ID:

```json
[
    {
        "id": 0,
        "baseCurrency": {
            "id": 0,
            "name": "US dollar",
            "code": "USD",
            "sign": "$"
        },
        "targetCurrency": {
            "id": 1,
            "name": "Euro",
            "code": "EUR",
            "sign": "‚Ç¨"
        },
        "rate": 0.99
    }
]
```
PATCH `/exchangeRate/USDRUB`

–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –≤ –±–∞–∑–µ –æ–±–º–µ–Ω–Ω–æ–≥–æ –∫—É—Ä—Å–∞. –í–∞–ª—é—Ç–Ω–∞—è –ø–∞—Ä–∞ –∑–∞–¥–∞—ë—Ç—Å—è –∏–¥—É—â–∏–º–∏ –ø–æ–¥—Ä—è–¥ –∫–æ–¥–∞–º–∏ –≤–∞–ª—é—Ç –≤ –∞–¥—Ä–µ—Å–µ –∑–∞–ø—Ä–æ—Å–∞. –î–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –≤ —Ç–µ–ª–µ –∑–∞–ø—Ä–æ—Å–∞ –≤ –≤–∏–¥–µ –ø–æ–ª–µ–π —Ñ–æ—Ä–º—ã (`x-www-form-urlencoded`). –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ –ø–æ–ª–µ —Ñ–æ—Ä–º—ã - `rate`.

–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞ - JSON –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –æ–±–Ω–æ–≤–ª—ë–Ω–Ω–æ–π –∑–∞–ø–∏—Å–∏ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö, –≤–∫–ª—é—á–∞—è –µ—ë ID:

```json
[
    {
        "id": 0,
        "baseCurrency": {
            "id": 1,
            "name": "US dollar",
            "code": "USD",
            "sign": "$"
        },
        "targetCurrency": {
            "id": 2,
            "name": "Russian Ruble",
            "code": "RUB",
            "sign": "‚ÇΩ"
        },
        "rate": 80
    }
]
```

### –û–±–º–µ–Ω –≤–∞–ª—é—Ç—ã

GET `/exchange?from=BASE_CURRENCY_CODE&to=TARGET_CURRENCY_CODE&amount=$AMOUNT`

–†–∞—Å—á—ë—Ç –ø–µ—Ä–µ–≤–æ–¥–∞ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å—Ä–µ–¥—Å—Ç–≤ –∏–∑ –æ–¥–Ω–æ–π –≤–∞–ª—é—Ç—ã –≤ –¥—Ä—É–≥—É—é. –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞ - GET `/exchange?from=USD&to=AUD&amount=10`.

–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:

```json
{
    "baseCurrency": {
        "id": 1,
        "name": "Yen",
        "code": "JPY",
        "sign": "¬•"
    },
    "targetCurrency": {
        "id": 4,
        "name": "Australian dollar",
        "code": "AUD",
        "sign": "A‚Ç¨"
    },
    "rate": 0.0099,
    "amount": 10000.00,
    "convertedAmount": 99.40
}
```

–ü–æ–ª—É—á–µ–Ω–∏–µ –∫—É—Ä—Å–∞ –¥–ª—è –æ–±–º–µ–Ω–∞ –º–æ–∂–µ—Ç –ø—Ä–æ–π—Ç–∏ –ø–æ –æ–¥–Ω–æ–º—É –∏–∑ —Ç—Ä—ë—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤. –î–æ–ø—É—Å—Ç–∏–º, —Å–æ–≤–µ—Ä—à–∞–µ–º –ø–µ—Ä–µ–≤–æ–¥ –∏–∑ –≤–∞–ª—é—Ç—ã A –≤ –≤–∞–ª—é—Ç—É B:

1. –í —Ç–∞–±–ª–∏—Ü–µ ExchangeRates —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤–∞–ª—é—Ç–Ω–∞—è –ø–∞—Ä–∞ AB - –±–µ—Ä—ë–º –µ—ë –∫—É—Ä—Å
2. –í —Ç–∞–±–ª–∏—Ü–µ ExchangeRates —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤–∞–ª—é—Ç–Ω–∞—è –ø–∞—Ä–∞ BA - –±–µ—Ä–µ–º –µ—ë –∫—É—Ä—Å, –∏ —Å—á–∏—Ç–∞–µ–º –æ–±—Ä–∞—Ç–Ω—ã–π, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å AB
3. –í —Ç–∞–±–ª–∏—Ü–µ ExchangeRates —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤–∞–ª—é—Ç–Ω—ã–µ –ø–∞—Ä—ã USD-A –∏ USD-B - –≤—ã—á–∏—Å–ª—è–µ–º –∏–∑ —ç—Ç–∏—Ö –∫—É—Ä—Å–æ–≤ –∫—É—Ä—Å AB

## –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- Java 17+
- Tomcat 10

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

1. –°–∫–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
```
git clone git@github.com:as1iva/currency-exchange.git
```

2. –û—Ç–∫—Ä–æ–π—Ç–µ `IntelliJ IDEA`
4. –í –≥–ª–∞–≤–Ω–æ–º –º–µ–Ω—é –Ω–∞–∂–º–∏—Ç–µ `Open` –∏ –≤—ã–±–µ—Ä–∏—Ç–µ –ø–∞–ø–∫—É, –∫–æ—Ç–æ—Ä—É—é —Å–∫–ª–æ–Ω–∏—Ä–æ–≤–∞–ª–∏ –≤ –ø–µ—Ä–≤–æ–º —à–∞–≥–µ
5. –í `IntelliJ IDEA` –≤—ã–±–µ—Ä–∏—Ç–µ –º–µ–Ω—é `Run`, –∞ –∑–∞—Ç–µ–º `Edit Configurations...`
6. –í –ø–æ—è–≤–∏–≤—à–µ–º—Å—è –æ–∫–Ω–µ –Ω–∞–∂–º–∏—Ç–µ `+` –∏ –¥–æ–±–∞–≤—å—Ç–µ `Tomcat Server` -> `local`
7. –†—è–¥–æ–º —Å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ–º `Warning: No artifacts marked for deployment` –Ω–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫—É `Fix`
8. –í –ø–æ—è–≤–∏–≤—à–µ–º—Å—è –æ–∫–Ω–µ –≤—ã–±–µ—Ä–∏—Ç–µ `currency-exchange.war exploded`
9. –í –ø–æ–ª–µ `Application context` –æ—Å—Ç–∞–≤—å—Ç–µ –ª–∏—à—å `/`
10. –ù–∞–∂–º–∏—Ç–µ `Apply` –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ `Tomcat`
11. –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –ø–æ —É–∫–∞–∑–∞–Ω–Ω—ã–º –≤ [–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è—Ö API](#–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏-api) —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞–º
